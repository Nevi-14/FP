

<ion-header class="ion-no-border">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/home/reservations"></ion-back-button>
    </ion-buttons>
    <ion-title slot="end" class="ion-text-uppercase">Reservacion Cancha {{retosService.cancha}}</ion-title>
 
  </ion-toolbar>


</ion-header>
<ion-content  class="ion-padding">
  <ion-segment [(ngModel)]="calendar.mode">
    
    <ion-segment-button value="month">
      <ion-label>Mes</ion-label>
    </ion-segment-button>
    <ion-segment-button value="week">
      <ion-label>Semana</ion-label>
    </ion-segment-button>
    <ion-segment-button value="day">
      <ion-label>Dia</ion-label>
    </ion-segment-button>
  </ion-segment>


    <ion-row>

      <ion-col size="2">
<ion-button (click)="back()" fill="clear" >
 <ion-icon name="arrow-back" slot="icon-only"></ion-icon>
</ion-button>
      </ion-col>
      <ion-col size="8">
<h2 class="ion-text-center">{{viewTitle}}</h2>
      </ion-col>
      <ion-col size="2">
        <ion-button (click)="next()"  fill="clear">
          <ion-icon name="arrow-forward" slot="icon-only"></ion-icon>
         </ion-button>
      </ion-col>
    </ion-row>
  <calendar [eventSource]="eventSource"
  [calendarMode]="calendar.mode"
  [currentDate]="calendar.currentDate"
  (onTitleChanged)="onViewTitleChanged($event)"
  (onTimeSelected)="onTimeSelected($event)"
  [monthviewDisplayEventTemplate]="foo"
 >
</calendar>

<ng-template #foo let-view="view" let-row="row" let-col="col">
  <div [class.with-event]="view.dates[row*7+col].events.length">
 
    {{view.dates[row*7+col].label}} 
    
  </div>
  <div class="indicator-container">

    <div class="event-indicator" *ngFor="let e of view.dates[row*7+col].events">



    </div>
  </div>
 </ng-template>
    
  <ion-list lines="none" *ngIf="calendar.mode === 'month'">
    
    <ion-item-divider>
 <ion-label class="ion-text-uppercase">Generar nuevo reto</ion-label>
    </ion-item-divider>

    <ion-item-divider>
      <ion-label>Rival</ion-label>
          <ion-buttons slot="end">
            <ion-button (click)="opcionesService.equiposModal(1)" size="large">
              <ion-icon  name="add"></ion-icon>
           
            </ion-button>
          </ion-buttons>
        </ion-item-divider>

        <ion-item *ngIf="retosService.rival1">
        <ion-chip  style="height: 60px; background: transparent;">
            <ion-avatar  style="height: 50px; width: 50px;">
              <img src="{{retosService.rival1.foto}}">
            
            </ion-avatar>
       
            <span style="display:block;">
              <ion-label style="margin-bottom: 10px;"> {{retosService.rival1.nombre}}</ion-label>
          
              <ion-icon style="size: 10px;" name="star"></ion-icon>
              <ion-icon style="size: 10px;"  name="star-outline"></ion-icon>
              <ion-icon style="size: 10px;" name="star-outline"></ion-icon>
              <ion-icon style="size: 10px;"  name="star-outline"></ion-icon>
              <ion-icon style="size: 10px;" name="star-outline"></ion-icon>
            </span>
          </ion-chip>
    
          <ion-buttons slot="end">
          
    
            <ion-button  color="dark" slot="end" (click)="opcionesService.opciones('Opciones de Club',[{funcion:'verClub', icono: 'eye-outline', parametros:  {arreglo:retosService.rival1},  arreglo:retosService.rival1 , boton: 'Ver Club' },{funcion:'agregarClub', icono:'person-add-outline', parametros:  {clubID:retosService.rival1.clubID}, arreglo:retosService.rival1 , boton: 'Enviar Solicitud' },{funcion:'enviarRetoClub', icono: 'paper-plane-outline', parametros:  {arreglo:retosService.rival1},arreglo:retosService.rival1 , boton: 'Enviar Reto'},{
              funcion:'marcarFavorito', icono: 'star-outline', arreglo:retosService.rival1 , boton: 'Marcar Como Favorito' }])">
              <ion-icon name="ellipsis-horizontal"></ion-icon>
              </ion-button>
    
    
           
    </ion-buttons>
          
        </ion-item>
        <ion-item-divider>
       
        </ion-item-divider>
    
        <ion-item-divider>
      <ion-label>Retador</ion-label>
          <ion-buttons slot="end">
            <ion-button  (click)="opcionesService.equiposModal(2)" size="large">
              <ion-icon  name="add"></ion-icon>
           
            </ion-button>
          </ion-buttons>
        </ion-item-divider>
   
        <ion-item *ngIf="retosService.rival2">
          <ion-chip  style="height: 60px; background: transparent;">
              <ion-avatar  style="height: 50px; width: 50px;">
                <img src="{{retosService.rival2.foto}}">
              
              </ion-avatar>
         
              <span style="display:block;">
                <ion-label style="margin-bottom: 10px;"> {{retosService.rival2.nombre}}</ion-label>
            
                <ion-icon style="size: 10px;" name="star"></ion-icon>
                <ion-icon style="size: 10px;"  name="star-outline"></ion-icon>
                <ion-icon style="size: 10px;" name="star-outline"></ion-icon>
                <ion-icon style="size: 10px;"  name="star-outline"></ion-icon>
                <ion-icon style="size: 10px;" name="star-outline"></ion-icon>
              </span>
            </ion-chip>
      
            <ion-buttons slot="end">
            
      
              <ion-button  color="dark" slot="end" (click)="opcionesService.opciones('Opciones de Club',[{funcion:'verClub', icono: 'eye-outline', parametros:  {arreglo:retosService.rival2},  arreglo:retosService.rival2 , boton: 'Ver Club' },{funcion:'agregarClub', icono:'person-add-outline', parametros:  {clubID:retosService.rival2.clubID}, arreglo:retosService.rival2 , boton: 'Enviar Solicitud' },{funcion:'enviarRetoClub', icono: 'paper-plane-outline', parametros:  {arreglo:retosService.rival2},arreglo:retosService.rival2 , boton: 'Enviar Reto'},{
                funcion:'marcarFavorito', icono: 'star-outline', arreglo:retosService.rival2 , boton: 'Marcar Como Favorito' }])">
                <ion-icon name="ellipsis-horizontal"></ion-icon>
                </ion-button>
      
      
             
      </ion-buttons>
            
          </ion-item>

          <ion-item-divider>
         
          </ion-item-divider>
          <ion-item-divider>
            <ion-label>Hora</ion-label>
                <ion-buttons slot="end">
                  <ion-button  size="large">
                    <ion-icon  name="time"></ion-icon>
                 
                  </ion-button>
                </ion-buttons>
              </ion-item-divider>
              <ion-item >
                <ion-label position="stacked" class="ion-text-uppercase">Hora Inicio</ion-label>
                <ion-datetime  class="ion-margin-top"  [(ngModel)]="event.startTime" display-format="h:mm A"  minuteValues="0"   
                maxTime="05:00" picker-format="h:mm A" placeholder="Hora inicio" ></ion-datetime>
              </ion-item>
              <ion-item >
                <ion-label position="stacked" class="ion-text-uppercase">Hora Fin</ion-label>
                <ion-datetime class="ion-margin-top" display-format="h:mm A" placeholder="Hora fin" picker-format="h:mm A" minuteValues="0"  [(ngModel)]="event.endTime"></ion-datetime>
              </ion-item>
              <ion-item-divider>
                <ion-label class="ion-text-uppercase">Guardar reto</ion-label>
                  
                <ion-buttons slot="end">
                  <ion-button (click)="agregarEvento()" size="large">
                    <ion-icon  name="save"></ion-icon>
                 
                  </ion-button>
                </ion-buttons>
              </ion-item-divider>
               
          <ion-item-divider>
       
          </ion-item-divider>
    </ion-list>



</ion-content>