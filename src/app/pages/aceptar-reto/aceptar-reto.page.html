
  <ion-header >

    <ion-toolbar>
      <ion-item class="transparent ion-margin-bottom ion-margin-top" lines="none">
        <ion-buttons slot="start">
          <ion-button color="light" (click)="cerrarModal()">
            <ion-icon slot="start" name="chevron-back"></ion-icon>
            &nbsp;{{reto.Titulo}}
          </ion-button>
        </ion-buttons>

      </ion-item>
      <ion-grid >
        <ion-row>
          <ion-col size="12">
            <ion-label> Cancha : <strong>{{reto.Nombre_Cancha}}</strong> </ion-label>
          </ion-col>
          <ion-col size="4">
           <ion-label>Fecha :  {{reto.Fecha | date:'shortDate'}}
        </ion-label>
          </ion-col>
          <ion-col size="4">
            <ion-label>Inicio {{reto.Hora_Inicio | date:'shortTime'}}
            </ion-label>
          </ion-col>
          <ion-col size="4W">
            <ion-label> Fin {{reto.Hora_Fin | date:'shortTime'}}
            </ion-label>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-toolbar>

    </ion-header>
    <ion-content fullscreen *ngIf="factura">
      <div class="mainContent">
       <ion-row>
         <ion-col size="12">

          <ion-item>
            <ion-label>Participantes</ion-label>
            <ion-avatar slot="end" style="height: 4rem;width: 4rem;">
              <img style="height: 4rem;width: 4rem;"   src="assets/soccer-shields-svg/{{retador.Foto}}">
            </ion-avatar>
            <ion-avatar  slot="end" style="height: 4rem;width: 4rem;">
              <img  style="height: 4rem;width: 4rem;"   src="assets/soccer-shields-svg/{{rival.Foto}}">
            </ion-avatar>
          </ion-item>
         </ion-col>
       </ion-row>

                    <ion-row >
              
                      <ion-col size="12">
                        <img class="gfg" src="{{'https://dev-coding.com/FUTPLAY_APIS_HOST/PerfilCanchaUploads/'+cancha.Foto }}" onerror="this.src='assets/soccerfield.jpg'"   alt="">  
              
                      </ion-col>
                                  
                
                                      <ion-row>
                             
                                      </ion-row>
                      <ion-col  size="12" class="ion-padding">
                        <app-mapa  [lngLat]="[cancha.Longitud, cancha.Latitud]"></app-mapa>
                      </ion-col>
                      <ion-col size="12">
                        <ion-label >  {{cancha.Nombre_Provincia}},  {{cancha.Nombre_Canton}}...</ion-label>
                        
                      </ion-col>
                      <ion-col size="12" class="ion-margin-top ion-margin-bottom">
                        <ion-button class="ion-margin ion-text-center" (click)="navigate()" expand="block"  color="dark">
                         <ion-icon  name="location-outline" style="margin-right:0.2rem"></ion-icon> Abrir Ubicación
                        </ion-button>
                      </ion-col>
          
          
                
                
                    </ion-row>
                
          
            
          
          
            <ion-row class="ion-padding">
            
              <ion-col size="12"  class="ion-margin-top ion-margin-bottom">
                <ion-label class="ion-text-uppercase"><strong>Detalle Reservacion</strong></ion-label>
              </ion-col>
        
              <ion-col size="12" class="data-row">
                <ion-list>
                  <ion-item>
                    <ion-label>
                  
                      <h2 class="ion-text-wrap">Precio Cacha</h2>
                    
                    
                    
                    </ion-label>
                    <p slot="end">₡ {{cancha.Precio_Hora}}</p>
                  </ion-item>


                  <ion-item *ngIf="cancha.Luz">
                    <ion-label>
                  
                      <h2 class="ion-text-wrap">Precio Luz</h2>
                    
                    
                    
                    </ion-label>
                    <p slot="end">₡ {{cancha.Precio_Luz}}</p>
                  </ion-item>

                  <ion-item >
                    <ion-label>
                  
                      <h2 class="ion-text-wrap">Monto Total</h2>
                    
                    
                    
                    </ion-label>
                    <p slot="end">₡ {{factura.Monto_Total}}</p>
                  </ion-item>
                  <ion-item >
                    <ion-label>
                  
                      <h2 class="ion-text-wrap">Monto Total a cancelar por Equipo</h2>
                    
                    
                    
                    </ion-label>
                    <p slot="end">₡ {{factura.Monto_Equipo}}</p>
                  </ion-item>
                  <ion-item >
                    <ion-label>
                  
                      <h2 class="ion-text-wrap">Monto a pagar en persona</h2>
                    
                    
                    
                    </ion-label>
                    <p slot="end">₡ {{factura.Monto_Total}}</p>
                  </ion-item>

                  <ion-item >
                    <ion-label>
                  
                      <h2 class="ion-text-wrap">Monto a pagar para  completar reservación (10%)</h2>
                    
                    
                    
                    </ion-label>
                    <p slot="end"   [ngClass]="factura.Descuento  ? 'discount' : ''">₡ {{factura.Monto_FP}}

                    </p>


                  </ion-item>

                  <ion-item>
                    <ion-label>
                  
                      <h2 class="ion-text-wrap">Descuento Aplicado  ({{factura.Descuento }}%)</h2>
                    
                    
                    
                    </ion-label>

                    <p>   ₡ {{factura.Monto_Descuento  }}</p>
                  </ion-item>

                  <ion-item >
                    <ion-label>
                  
                      <h2 class="ion-text-wrap">Monto a pagar para  completar reservación (10%)</h2>
                    
                    
                    
                    </ion-label>
                    <p slot="end"   >₡ {{factura.Monto_FP - factura.Monto_Descuento}}

                    </p>


                  </ion-item>

                </ion-list>
          
              </ion-col>
          
         
    
  
            </ion-row>
          
                
            </div>
    </ion-content>
    <ion-footer>
      <ion-button class="ion-margin-bottom" (click)="eliminar()" *ngIf="reto.Cod_Usuario == usuariosService.usuarioActual.Cod_Usuario"   expand="block" >
        <ion-label>Eliminar Reto </ion-label>
              </ion-button>
        
      <ion-button (click)="alertaReservacion()" *ngIf="reto.Cod_Estado != 4 && reto.Cod_Estado != 6  && reto.Cod_Estado != 7  && reto.Cod_Usuario_Rival == usuariosService.usuarioActual.Cod_Usuario"   expand="block" >
       <ion-label>Aceptar Reto </ion-label>
             </ion-button>
       
             <ion-button  (click)="iniciarPartido()"  *ngIf="reto.Cod_Estado == 4 || reto.Cod_Estado == 6 || reto.Cod_Estado == 7 "    expand="block" >
              <ion-label> Iniciar Partido</ion-label>
                    </ion-button>
        
   </ion-footer>
 