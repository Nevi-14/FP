
<ion-toolbar style="background-color: #fff;">
  <ion-label style="text-align: left; font-size: 16px; font-weight: 600;text-transform:uppercase;margin-left:1rem;">Generar Reto</ion-label>
</ion-toolbar>

<ion-content >
  <form  (ngSubmit)="generarReto(fRegistro)" #fRegistro="ngForm" class="styled-elemets" style="height: 100%; ">

  <ion-button *ngIf="!rival" (click)="agregarRival()" style="margin-top: 2rem;"  class="ion-margin" expand="full" color="dark">
    Agregar Rival
   </ion-button>



  <ion-card *ngIf="rival"  >
    <ion-card-header>
      <ion-card-subtitle style="text-align: left;">Rival</ion-card-subtitle>
      
    </ion-card-header>
  
    <ion-card-content>
      <ion-item lines="none">

          <ion-avatar slot="start" style="display:block; height: auto; width: auto;" class="ion-text-center">
            <img style="height: 60px; width: 60px;"  src="assets/soccer-shields-svg/{{rival.Foto}}">
            
            </ion-avatar>
     
      <ion-label>{{rival.Nombre}}</ion-label>

  

        <ion-buttons slot="end">
          <ion-button (click)="agregarRival()"  color="dark" shape="round" fill="clear"> 
            <ion-icon slot="icon-only" name="create-outline"></ion-icon>
          
          </ion-button>
        </ion-buttons>
      </ion-item>

    </ion-card-content>

  </ion-card>


  <ion-button style="margin-top: 2rem;" (click)="agregarRetador()" *ngIf="!retador" class="ion-margin" expand="full" color="dark">
    Agregar Retador
   </ion-button>
  
  <ion-card *ngIf="retador">
    <ion-card-header>
      <ion-card-subtitle style="text-align: left;">Retador</ion-card-subtitle>
      
    </ion-card-header>
  
    <ion-card-content>
      <ion-item lines="none">
  
          <ion-avatar slot="start" style="display:block; height: auto; width: auto;" class="ion-text-center">
            <img style="height: 60px; width: 60px;"  src="assets/soccer-shields-svg/{{retador.Foto}}">
            
            </ion-avatar>
     
      <ion-label>{{retador.Nombre}}</ion-label>

      

        <ion-buttons slot="end">
          <ion-button (click)="agregarRetador()" color="dark" shape="round" fill="clear">
            <ion-icon slot="icon-only" name="create-outline"></ion-icon>
          
          </ion-button>
        </ion-buttons>
     
      </ion-item>

  
    </ion-card-content>


    
  </ion-card>




  <ion-button (click)="agregarCancha()" *ngIf="retador && rival && !cancha" class="ion-margin" expand="full" color="dark">
    Agregar Cancha
   </ion-button>

   <ion-card *ngIf="cancha">
    <ion-card-header>
      <ion-card-subtitle style="text-align: left;">Cancha</ion-card-subtitle>
      
    </ion-card-header>
  
    <ion-card-content>
      <ion-item lines="none">
        <ion-chip  style="height: 60px; background: transparent;">
          <ion-avatar  style="height: 50px; width: 50px;">
            <img [src]="soccer">
          
          </ion-avatar>
     
      <ion-label>{{cancha.Nombre}}</ion-label>
    
      
        </ion-chip>

        <ion-buttons slot="end">
          <ion-button (click)="agregarCancha()" color="dark" shape="round" fill="clear">
            <ion-icon slot="icon-only" name="create-outline"></ion-icon>
          
          </ion-button>
        </ion-buttons>
     
      </ion-item>
<ion-item>
  <ion-label>
    <h2>Ubicación</h2>
    <p>{{cancha.Nombre_Provincia}}, {{cancha.Nombre_Canton}} , {{cancha.Nombre_Distrito}}</p>
    
    </ion-label>
</ion-item>
      <ion-item>
        <ion-label>Precio: ₡ {{cancha.Precio_Hora}}</ion-label>
      </ion-item>
      <ion-item *ngIf="cancha.Luz">
        <ion-label>Luz: + ₡  {{cancha.Precio_Luz}}</ion-label>
        <ion-checkbox slot="end"></ion-checkbox>
      </ion-item>

  
      <ion-item  (click)="agregarReservacion()">
        <ion-label  position="stacked">Fecha</ion-label>
        <ion-input
          [value]="fechaDateTime | date:'fullDate'"
          placeholder="Fecha"
       
    
        ></ion-input>
        <ion-icon slot="end" size="small" name="calendar-outline"></ion-icon>

      </ion-item>

      <ion-col size="12" >
        <ion-label >Hora</ion-label>

        <ion-item  class="ion-margin-bottom ion-margin-top" >
          <ion-select [(ngModel)]="nuevaReservacion.Hora_Inicio"   placeholder="Hora Inicio">
            <ion-select-option  [value]="hora.hora_inicio" *ngFor="let hora of generrReservacionService.horasdiaConsulta">{{hora.formato12}}</ion-select-option>
          </ion-select>
      </ion-item>
      </ion-col>

      <ion-list  class="list" *ngIf="controlReservacionesService.arregloHorasDisponibles.length > 0">
        <ion-list-header class="ion-text-left">
          <ion-label class="ion-text-uppercase" style="font-size: 16px;">Reservaciones disponibles</ion-label>
        </ion-list-header>
        <ion-radio-group name="Hora_Inicio"  [(ngModel)]="nuevaReservacion.Hora_Inicio">

          <ion-item *ngFor="let item of controlReservacionesService.arregloHorasDisponibles">
            <ion-label>{{item.formato12}}</ion-label>
            <ion-radio mode="ios"  slot="end" [value]="item"  ></ion-radio>
          </ion-item>
      
          
        </ion-radio-group>

      </ion-list>
   
    </ion-card-content>


    
  </ion-card>


  



   <ion-button [disabled]="fRegistro.invalid" type="submit" *ngIf="retador && rival && cancha != null" class="ion-margin" style="margin-top: 2rem;" expand="full" color="dark">
    Enviar Reto
   </ion-button>

  </form>
  </ion-content>
  
  
  
  <ion-fab  (click)="cerrarModal()" vertical="top" horizontal="end" slot="fixed">
    <ion-fab-button size="small" color="dark">
      <ion-icon  name="arrow-back-outline"></ion-icon>
    </ion-fab-button>
  </ion-fab>
  